# TICKET-006 완료 보고서

## 1) 기본 정보

| 항목 | 내용 |
|------|------|
| **티켓 ID** | TICKET-006-LLD-SIMULATION |
| **상태** | 완료 (DONE) |
| **완료일** | 2026-02-15 |
| **생성 산출물** | `docs/lld/lld-simulation-v1.0.0.md` |

## 2) 수용기준 체크리스트 (번호별)

### 2.1 티켓 수용기준

| 번호 | 수용 기준 | 충족 여부 | 반영 위치(LLD 장/절) |
|------|-----------|-----------|----------------------|
| 1 | 시뮬레이션 루프/거래 실행/비용 계산/시드머니 갱신 인터페이스 정의 | ✅ 충족 | 2.2, 2.3, 2.4, 2.5 |
| 2 | 60일 반복 실행 시퀀스 및 이벤트 발행 흐름 다이어그램 | ✅ 충족 | 3.1, 8.1 |
| 3 | 비용 계산(세금/수수료) 및 Decimal 정밀도 규칙 명세 | ✅ 충족 | 4.1~4.3 |
| 4 | 거래 실패/데이터 누락/전략 신호 없음 시 처리 정책 명세 | ✅ 충족 | 6.1~6.3 |
| 5 | 언어 중립 수도코드가 실행 가능한 수준으로 제공 | ✅ 충족 | 9장 |
| 6 | SRS FR-007~FR-009 추적성 확보 | ✅ 충족 | 10장 |

### 2.2 작성 요구사항 반영 확인

| 번호 | 작성 요구사항 | 충족 여부 | 반영 위치(LLD 장/절) |
|------|--------------|-----------|----------------------|
| 1 | 목적/범위(In/Out Scope) | ✅ 충족 | 1.1~1.3 |
| 2 | 컴포넌트 상세 설계(`SimulationEngine`, `CostCalculator`, `SeedMoneyManager`, `TradeExecutor`, `SimulationEventEmitter`) | ✅ 충족 | 2.2~2.6 |
| 3 | 60일 반복 시뮬레이션 시퀀스 다이어그램 | ✅ 충족 | 3.1 |
| 4 | 비용 계산(세금 0.2%, 수수료 0.011%) 및 Decimal 정밀도 규칙 | ✅ 충족 | 4.1~4.3 |
| 5 | 거래 실패/데이터 누락/전략 신호 없음 처리 정책 | ✅ 충족 | 6.1~6.3 |
| 6 | 에러 처리 시퀀스 | ✅ 충족 | 7장 |
| 7 | 실행 가능한 언어 중립 수도코드 | ✅ 충족 | 9장 |
| 8 | SRS 추적성 매트릭스 | ✅ 충족 | 10장 |
| 9 | 테스트/검증 고려사항 | ✅ 충족 | 11장 |

## 3) 미해결 리스크 / 가정

### 3.1 미해결 리스크

1. 거래일 필수 시각(09:05, 15:00) 캔들 누락 빈도가 높으면 `no_trade_days` 증가로 전략 성과 왜곡 가능성이 있다.
2. 외부 시세 데이터 품질(결측/중복/지연)에 따라 거래 실패(`error_skip`) 비율이 증가할 수 있다.
3. 이벤트 소비자(Web API/SSE) 지연 시 실시간 모니터링 표시와 내부 처리 완료 시점 간 체감 차이가 발생할 수 있다.

### 3.2 가정

1. 시장데이터 모듈은 최근 60일, 5분봉, KST 기준 정렬된 데이터를 제공한다.
2. 전략 엔진은 거래일별 `TradeSignal`을 일관된 스키마로 반환한다.
3. 금액 계산은 전 구간 Decimal을 사용하고, 세금/수수료는 원 단위 이하 절사 규칙을 따른다.

## 4) 결론

TICKET-006의 시뮬레이션 엔진 LLD 문서는 HLD 4.4/5.x/6.x/8.x 및 SRS FR-007~FR-009(그리고 BR-001~BR-004)와 정합되도록 작성 완료되었다. 수용기준 1~6과 작성 요구사항 항목을 모두 충족하며, 식별된 리스크는 ILD/구현 단계에서 테스트 시나리오로 관리 가능한 수준이다.
