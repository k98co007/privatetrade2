# 소프트웨어 요구사항 명세서 (SRS)
# Software Requirements Specification

| 항목 | 내용 |
|------|------|
| **문서 버전** | 1.1.0 |
| **작성일** | 2026-02-16 |
| **기반 문서** | 유저스토리 v1.1.0, 사용자 인터뷰 (2026-02-15, 2026-02-16) |
| **형식** | IEEE 830 기반 |
| **티켓** | TICKET-067 |

---

## v1.1.0 변경 로그 (요약)

- 2026-02-16 인터뷰 기반 신규 전략 2건(전략A/전략B, US-018/US-019) 요구사항 추가
- 신규 전략 공통 제약 반영: 당일 손절 미적용, 연속 매수 금지(매수/매도 교대)
- 기존 전략(FR-003/FR-004/FR-005)과 신규 전략(FR-016/FR-017)의 적용 범위 분리
- 추적 매트릭스에 US-018/US-019 매핑 및 커버리지 수치 갱신

---

## 목차

1. [서론](#1-서론)
2. [전체 설명](#2-전체-설명)
3. [기능 요구사항](#3-기능-요구사항-functional-requirements)
4. [비기능 요구사항](#4-비기능-요구사항-non-functional-requirements)
5. [외부 인터페이스 요구사항](#5-외부-인터페이스-요구사항)
6. [데이터 요구사항](#6-데이터-요구사항)
7. [비즈니스 규칙](#7-비즈니스-규칙)
8. [유저스토리-요구사항 추적 매트릭스](#8-유저스토리-요구사항-추적-매트릭스)

---

## 1. 서론

### 1.1 목적

본 문서는 주식투자 전략 시뮬레이션 시스템(이하 "시스템")의 소프트웨어 요구사항을 정의한다. 이 문서는 개발팀, 테스트팀, 프로젝트 관계자가 시스템의 기능적·비기능적 요구사항을 명확히 이해하고, 설계·구현·검증의 기준으로 활용하기 위해 작성되었다.

### 1.2 범위

시스템은 한국 코스피 상장 종목을 대상으로, 사용자가 정의한 투자 전략을 과거 시세 데이터 기반으로 시뮬레이션하는 웹 기반 애플리케이션이다.

시스템이 제공하는 주요 기능:
- 야후 파이낸스를 통한 코스피 종목 5분 분봉 데이터 및 RSI 지표 조회
- 5가지 투자 전략(기존 전략 3종 + 신규 전략 2종)에 대한 시뮬레이션 실행
- 매매 비용(세금 0.2%, 수수료 0.011%) 및 시드머니 누적 관리 반영
- 웹 브라우저 기반 시뮬레이션 시작, 모니터링, 결과 조회
- 수익률·수익금·세부 거래 내역 포함 종합 결과 보고서 생성

시스템이 다루지 않는 범위:
- 실제 증권사 연동을 통한 실매매 실행
- 다중 종목 포트폴리오 동시 시뮬레이션
- 코스피 이외 시장(코스닥, 해외 주식 등) 종목

### 1.3 용어 정의

| 용어 | 정의 |
|------|------|
| **5분 분봉** | 5분 간격으로 기록된 주식의 시가(Open), 고가(High), 저가(Low), 종가(Close), 거래량(Volume) 데이터 |
| **RSI (Relative Strength Index)** | 상대강도지수. 일정 기간 동안 상승 변동폭과 하락 변동폭의 비율을 기반으로 산출하는 기술적 지표. 0~100 범위 |
| **Trailing Stop** | 주가가 유리한 방향으로 움직일 때 손절/이익보전 기준을 자동으로 상향 조정하는 매매 기법 |
| **이익보전** | 최고 수익 대비 현재 수익의 비율(%). 최고 수익 도달 후 일정 비율 이하로 하락 시 매도 |
| **전저점** | 5분 분봉 기준으로 추적하는 최저 가격 지점 |
| **시드머니** | 시뮬레이션에 사용하는 초기 투자 원금. 거래 결과에 따라 누적 증감 |
| **손절매** | 일정 시간 또는 조건에 도달했을 때 추가 손실 방지를 위해 현재가에 매도하는 행위 |
| **기준가** | 각 전략에서 매수/매도 판단의 기준이 되는 가격. 전략 2, 3에서는 오전 9시 5분 가격 |
| **코스피 (KOSPI)** | 한국거래소(KRX)에 상장된 유가증권시장 종목 지수 |
| **Yahoo Finance API** | 야후에서 제공하는 금융 데이터 API. 주가, 기술적 지표 등 조회 가능 |

### 1.4 참조 문서

| 문서 | 경로 | 설명 |
|------|------|------|
| 유저스토리 v1.1.0 | docs/userstory/userstory-v1.1.0.md | 19개 유저스토리 정의 |
| 사용자 인터뷰 (2026-02-15) | docs/userinterview/20260215.md | 1~4차 인터뷰 원문 |
| 사용자 인터뷰 (2026-02-16) | docs/userinterview/20260216.md | 1~2차 인터뷰 원문 |
| IEEE 830-1998 | - | IEEE Recommended Practice for Software Requirements Specifications |

---

## 2. 전체 설명

### 2.1 제품 관점

본 시스템은 독립적인 웹 기반 시뮬레이션 애플리케이션으로, 외부 데이터 소스인 Yahoo Finance API로부터 시세 데이터를 조회하여 사용자가 정의한 투자 전략을 시뮬레이션한다. 실제 증권 거래 시스템과 연동하지 않으며, 과거 데이터를 기반으로 전략의 성과를 검증하는 목적으로 사용된다.

```
┌──────────────┐     HTTP/REST     ┌─────────────────┐
│  웹 브라우저   │ ◄──────────────► │   웹 서버        │
│  (클라이언트)  │                  │   (시뮬레이션     │
└──────────────┘                  │    엔진 포함)     │
                                   └────────┬────────┘
                                            │ API 호출
                                            ▼
                                   ┌─────────────────┐
                                   │  Yahoo Finance   │
                                   │      API         │
                                   └─────────────────┘
```

### 2.2 제품 기능 요약

| 기능 영역 | 주요 기능 |
|-----------|----------|
| 시세 데이터 수집 | 코스피 종목 5분 분봉 데이터 조회, RSI 지표 조회 |
| 투자 전략 | 기존 전략(전략1/전략2/전략3) + 신규 전략(전략A/전략B), 전략 확장 |
| 시뮬레이션 실행 | 매매 비용 반영, 시드머니 누적 관리, 단일 종목 반복 매매 |
| 웹 인터페이스 | 시뮬레이션 시작, 실시간 모니터링, 결과 조회 |
| 결과 보고서 | 수익률·수익금, 세부 거래 내역, 종합 보고서 |

### 2.3 사용자 특성

| 사용자 유형 | 특성 |
|------------|------|
| **주식투자자** | 한국 코스피 시장에서 활동하는 개인 투자자. 기술적 분석(Trailing Stop, RSI 등)에 대한 기본 지식을 보유. 웹 브라우저 사용에 익숙하며, 자신의 투자 전략을 과거 데이터로 검증하고자 함 |

### 2.4 운영 환경

| 항목 | 내용 |
|------|------|
| **클라이언트** | Chrome, Edge, Firefox 최신 버전 지원 웹 브라우저 |
| **서버** | 웹 서버, 시뮬레이션 엔진 구동 가능 환경 |
| **외부 의존** | Yahoo Finance API (인터넷 연결 필수) |
| **대상 시장** | 한국 코스피 (KRX 유가증권시장) |
| **시세 데이터** | Yahoo Finance 5분 분봉 데이터, 최근 60일 |

### 2.5 제약사항

| ID | 제약사항 |
|----|---------|
| CON-001 | 시세 데이터는 Yahoo Finance API에 의존하며, API 가용성·데이터 범위에 제한될 수 있다 |
| CON-002 | Yahoo Finance의 5분 분봉 데이터 조회 가능 기간은 최근 60일로 제한된다 |
| CON-003 | 시뮬레이션은 과거 데이터 기반이며, 실시간 매매를 수행하지 않는다 |
| CON-004 | 한 번의 시뮬레이션 실행에 단일 종목만 대상으로 한다 |
| CON-005 | 매수 수수료는 반영하지 않으며, 매도 시 세금(0.2%)과 수수료(0.011%)만 반영한다 |
| CON-006 | 신규 전략(전략A, 전략B)은 당일 손절매(15:00 강제 손절)를 적용하지 않는다 |
| CON-007 | 신규 전략(전략A, 전략B)은 미청산 포지션 보유 중 추가 매수를 금지하며, 거래 순서는 매수→매도 교대만 허용한다 |

### 2.6 가정

| ID | 가정 |
|----|------|
| ASM-001 | Yahoo Finance API가 한국 코스피 종목의 5분 분봉 데이터를 안정적으로 제공한다 |
| ASM-002 | Yahoo Finance API를 통해 RSI 지표 데이터를 조회하거나 산출할 수 있다 |
| ASM-003 | 사용자는 시뮬레이션 대상 코스피 종목의 Yahoo Finance 심볼(예: 005930.KS)을 알고 있다 |
| ASM-004 | 한국 주식시장 거래 시간은 오전 9시 ~ 오후 3시 30분이다 |
| ASM-005 | 시뮬레이션 기간 내 해당 종목의 거래가 정상적으로 이루어졌다 (거래 정지 등 예외 미반영) |

---

## 3. 기능 요구사항 (Functional Requirements)

### 3.1 시세 데이터 관련

#### FR-001: 코스피 종목 5분 분봉 데이터 조회

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-001 |
| **우선순위** | High |
| **출처** | US-001 |

**설명**: 시스템은 Yahoo Finance API를 통해 한국 코스피 상장 종목의 5분 분봉 데이터를 최근 60일치 조회할 수 있어야 한다.

**상세 요구사항**:
1. 시스템은 사용자가 지정한 코스피 종목의 Yahoo Finance 심볼(예: `005930.KS`)을 입력받아 해당 종목의 5분 분봉 데이터를 조회한다.
2. 조회 기간은 현재 날짜 기준 최근 60일(거래일 기준)이다.
3. 각 5분 분봉 데이터에는 다음 항목이 포함되어야 한다:
   - 타임스탬프 (datetime)
   - 시가 (Open)
   - 고가 (High)
   - 저가 (Low)
   - 종가 (Close)
   - 거래량 (Volume)
4. 조회된 데이터는 시뮬레이션 엔진에서 사용할 수 있는 형태로 저장 또는 전달된다.
5. 데이터 조회 실패 시 사용자에게 오류 메시지를 표시한다.

---

#### FR-002: RSI 지표 데이터 조회

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-002 |
| **우선순위** | High |
| **출처** | US-002 |

**설명**: 시스템은 Yahoo Finance를 통해 종목의 RSI(Relative Strength Index) 지표 데이터를 조회할 수 있어야 한다.

**상세 요구사항**:
1. 시스템은 5분 분봉 데이터를 기반으로 RSI 값을 산출한다.
2. RSI 값은 각 5분 분봉 캔들에 대해 계산되어야 한다.
3. RSI 계산 주기는 14기간(일반적 기본값)을 사용한다.
4. RSI 값의 범위는 0 ~ 100이다.
5. 산출된 RSI 값은 전략 3(RSI 매수 Trailing Stop)에서 매수 조건 판단에 사용된다.
6. RSI 데이터가 정상적으로 산출되지 않는 경우, 해당 시점의 전략 3 매수는 실행하지 않는다.

---

### 3.2 투자 전략 관련

#### FR-003: 매도 Trailing Stop 전략 (전략 1, 기존 전략)

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-003 |
| **우선순위** | High |
| **출처** | US-003 |

**설명**: 시스템은 2026-02-15 정의의 기존 매도 Trailing Stop 전략(전략 1)으로 시뮬레이션을 실행할 수 있어야 한다. 본 요구사항의 손절매 규칙은 전략 1에만 적용되며, 신규 전략A/B에는 적용되지 않는다.

**상세 요구사항**:

*매수 조건:*
1. 시스템은 각 거래일의 오전 9시 5분(09:05) 5분 분봉 종가로 해당 종목을 매수한다.
2. 매수 수량은 현재 시드머니 전액을 매수 가격으로 나눈 최대 주식 수(정수)이다.

*매도 조건 — 이익보전 매도:*
3. 매수 이후, 5분 분봉 단위로 현재가(종가)를 추적한다.
4. 당일 매수가 대비 수익률이 최초로 1.0% 이상 도달하면 이익보전 추적을 시작한다.
5. 이익보전 추적 시작 후, 당일 최고 수익률 대비 현재 수익률의 비율(이익보전율)을 매 5분 분봉마다 계산한다.
   - 이익보전율 = (현재 수익률 / 당일 최고 수익률) × 100
6. 이익보전율이 80% 이하로 하락하면, 해당 5분 분봉의 종가로 즉시 매도한다.

*매도 조건 — 손절매:*
7. 당일 오후 3시(15:00)까지 매수가 대비 수익률이 1.0%에 한 번도 도달하지 못한 경우, 오후 3시 5분 분봉의 종가로 매도(손절매)한다.

*공통:*
8. 매수 및 매도는 1일 1회로 제한된다.
9. 매도 시 세금(0.2%) 및 수수료(0.011%)가 적용된다(FR-007 참조).

---

#### FR-004: 매수+매도 Trailing Stop 전략 (전략 2, 기존 전략)

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-004 |
| **우선순위** | High |
| **출처** | US-004 |

**설명**: 시스템은 2026-02-15 정의의 기존 매수+매도 Trailing Stop 전략(전략 2)으로 시뮬레이션을 실행할 수 있어야 한다. 본 요구사항의 손절매 규칙은 전략 2에만 적용되며, 신규 전략B(FR-017)에는 적용되지 않는다.

**상세 요구사항**:

*기준가 설정:*
1. 시스템은 각 거래일의 오전 9시 5분(09:05) 5분 분봉 종가를 기준가로 설정한다.

*매수 조건 — 하락 추적:*
2. 오전 9시 5분 이후 5분 분봉 종가가 기준가 대비 1.0% 이상 하락하면 전저점 추적을 시작한다.
   - 하락 판정: (기준가 - 현재가) / 기준가 × 100 ≥ 1.0%
3. 전저점 추적 시작 후, 5분 분봉 단위로 최저가를 갱신(전저점 업데이트)한다.
4. 전저점 대비 현재가(5분 분봉 종가)가 0.2% 이상 상승하면 해당 가격에 매수한다.
   - 반등 판정: (현재가 - 전저점) / 전저점 × 100 ≥ 0.2%
5. 매수 수량은 현재 시드머니 전액을 매수 가격으로 나눈 최대 주식 수(정수)이다.

*매수 불가 조건:*
6. 당일 오후 3시(15:00)까지 매수 조건(기준가 대비 1.0% 하락 후 전저점 대비 0.2% 반등)이 충족되지 않으면, 해당 거래일에는 매수를 수행하지 않는다.

*매도 조건:*
7. 매수 후 매도 전략은 전략 1(FR-003)과 동일하다:
   - 매수가 대비 1.0% 이상 수익 확보 시 이익보전 추적 시작
   - 이익보전율 80% 이하 시 즉시 매도
8. 당일 오후 3시까지 매수가 대비 1.0% 수익 미달 시 오후 3시에 손절매 실행

---

#### FR-005: RSI 매수 Trailing Stop 전략 (전략 3, 기존 전략)

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-005 |
| **우선순위** | High |
| **출처** | US-005 |

**설명**: 시스템은 2026-02-15 정의의 기존 RSI 매수 Trailing Stop 전략(전략 3)으로 시뮬레이션을 실행할 수 있어야 한다. 본 요구사항의 손절매 규칙은 전략 3에만 적용되며, 신규 전략A(FR-016)에는 적용되지 않는다.

**상세 요구사항**:

*매수 조건:*
1. 전략 2(FR-004)의 매수 조건을 동일하게 적용한다:
   - 기준가(09:05 종가) 대비 1.0% 이상 하락 후 전저점 추적
   - 전저점 대비 0.2% 이상 상승 시 매수 시도
2. 매수 시도 시점에 해당 종목의 RSI 값이 30 이하(RSI ≤ 30)인 경우에만 매수를 실행한다.
3. 매수 시도 시점에 RSI 값이 30을 초과(RSI > 30)하면 해당 매수 시점을 건너뛴다.
4. RSI 조건 미충족으로 당일 매수가 전혀 이루어지지 않을 수 있다. 이 경우 해당 거래일에는 거래 없음으로 처리한다.
5. 매수 수량은 현재 시드머니 전액을 매수 가격으로 나눈 최대 주식 수(정수)이다.

*매도 조건:*
6. 매수 후 매도 전략은 전략 1(FR-003)과 동일하다:
   - 매수가 대비 1.0% 이상 수익 확보 시 이익보전 추적 시작
   - 이익보전율 80% 이하 시 즉시 매도
7. 당일 오후 3시까지 매수가 대비 1.0% 수익 미달 시 오후 3시에 손절매 실행

---

#### FR-016: RSI<=30 기반 매수 + 매도 Trailing Stop 전략 (전략 A, 신규 전략)

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-016 |
| **우선순위** | High |
| **출처** | US-018 |

**설명**: 시스템은 2026-02-16 정의의 신규 전략A를 지원해야 한다. RSI ≤ 30 조건에서만 매수하고, 매수 후에는 매도 Trailing Stop으로 청산한다.

**상세 요구사항**:

*매수 조건:*
1. 시스템은 5분 분봉 단위로 RSI 값을 지속 확인한다.
2. RSI 값이 30 이하(RSI ≤ 30)인 시점에서만 매수를 실행한다.
3. 매수 수량은 현재 시드머니 전액을 매수 가격으로 나눈 최대 주식 수(정수)이다.

*매도 조건:*
4. 매수 후 매도 전략은 전략 1(FR-003)의 이익보전 매도 조건과 동일하다:
   - 매수가 대비 1.0% 이상 수익 확보 시 이익보전 추적 시작
   - 이익보전율 80% 이하 시 즉시 매도

*신규 제약 조건:*
5. 당일 손절매(15:00 강제 손절)를 적용하지 않는다.
6. 보유 포지션이 매도되지 않은 상태에서는 추가 매수를 수행하지 않는다.
7. 거래 순서는 매수→매도→매수→매도 교대만 허용하며, 연속 매수(매수→매수)는 허용하지 않는다.

---

#### FR-017: 매수 Trailing Stop + 매도 Trailing Stop 조합 전략 (전략 B, 신규 전략)

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-017 |
| **우선순위** | High |
| **출처** | US-019 |

**설명**: 시스템은 2026-02-16 정의의 신규 전략B를 지원해야 한다. 기준가 하락 후 반등 진입을 수행하고, 매수 후에는 매도 Trailing Stop으로 청산한다.

**상세 요구사항**:

*기준가 설정 및 매수 조건:*
1. 시스템은 각 거래일의 오전 9시 5분(09:05) 5분 분봉 종가를 기준가로 설정한다.
2. 오전 9시 5분 이후 5분 분봉 종가가 기준가 대비 1.0% 이상 하락하면 전저점 추적을 시작한다.
3. 전저점 추적 시작 후, 5분 분봉 단위로 최저가를 갱신한다.
4. 전저점 대비 현재가(5분 분봉 종가)가 0.2% 이상 상승하면 해당 가격에 매수한다.
5. 매수 수량은 현재 시드머니 전액을 매수 가격으로 나눈 최대 주식 수(정수)이다.

*매도 조건:*
6. 매수 후 매도 전략은 전략 1(FR-003)의 이익보전 매도 조건과 동일하다:
   - 매수가 대비 1.0% 이상 수익 확보 시 이익보전 추적 시작
   - 이익보전율 80% 이하 시 즉시 매도

*신규 제약 조건:*
7. 당일 손절매(15:00 강제 손절)를 적용하지 않는다.
8. 보유 포지션이 매도되지 않은 상태에서는 추가 매수를 수행하지 않는다.
9. 거래 순서는 매수→매도→매수→매도 교대만 허용하며, 연속 매수(매수→매수)는 허용하지 않는다.

---

#### FR-006: 투자 전략 확장성

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-006 |
| **우선순위** | Medium |
| **출처** | US-006 |

**설명**: 시스템은 새로운 투자 전략을 기존 구조 내에서 추가할 수 있도록 설계되어야 한다.

**상세 요구사항**:
1. 시스템은 신규 투자 전략을 기존 시스템 아키텍처 내에서 추가할 수 있는 구조를 제공한다.
2. 신규 전략 추가 시 기존 전략(전략 1, 2, 3)과 신규 전략(전략 A, B)의 동작에 영향을 주지 않는다.
3. 추가된 전략은 기존 전략과 동일한 시뮬레이션 실행 파이프라인을 사용한다.
4. 추가된 전략은 기존 전략과 동일한 결과 보고서 기능(FR-013, FR-014, FR-015)을 사용할 수 있다.
5. 전략 추가를 위한 인터페이스(추상화 또는 플러그인 구조)가 정의되어야 한다.

---

### 3.3 시뮬레이션 실행 관련

#### FR-007: 매매 비용 반영

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-007 |
| **우선순위** | High |
| **출처** | US-007 |

**설명**: 시스템은 시뮬레이션의 매도 시 세금과 수수료를 반영하여 실제 투자 환경에 근접한 수익률을 산출해야 한다.

**상세 요구사항**:
1. 매도 시 매도 금액에 대해 세금 0.2%를 적용한다.
   - 매도 세금 = 매도 금액 × 0.002
2. 매도 시 매도 금액에 대해 수수료 0.011%를 적용한다.
   - 매도 수수료 = 매도 금액 × 0.00011
3. 세금 및 수수료는 매도 시 자동으로 차감된다.
4. 순매도금액 = 매도 금액 - 매도 세금 - 매도 수수료
5. 순수익 = 순매도금액 - 매수 금액
6. 결과 보고서에 비용 차감 후 순수익이 반영된다.
7. 매수 시 수수료는 적용하지 않는다.

---

#### FR-008: 시드머니 기반 투자금 관리

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-008 |
| **우선순위** | High |
| **출처** | US-008 |

**설명**: 시스템은 초기 투자금 10,000,000원을 시드머니로 시뮬레이션을 시작하고, 거래 결과에 따라 잔액을 누적 관리해야 한다.

**상세 요구사항**:
1. 시뮬레이션 시작 시 시드머니는 10,000,000원(₩10,000,000)으로 초기화한다.
2. 각 거래에서 수익이 발생한 경우:
   - 시드머니 잔액 = 이전 잔액 + 순수익(매도 비용 차감 후)
3. 각 거래에서 손실이 발생한 경우:
   - 시드머니 잔액 = 이전 잔액 - 순손실(매도 비용 포함)
4. 매수 시 현재 시드머니 잔액 전액을 매수 가격으로 나눈 최대 주식 수(정수)만큼 매수한다.
   - 매수 주식 수 = floor(시드머니 잔액 / 매수 가격)
5. 매수 후 잔여 현금(시드머니 잔액 - 매수금액)은 보존되며, 다음 거래 시 합산된다.
6. 시드머니 잔액은 매 거래 완료 시 갱신된다.
7. 시드머니 잔액이 해당 종목 1주 매수 가격 미만인 경우 해당 거래일에 매수하지 않는다.

---

#### FR-009: 단일 종목 반복 매매 시뮬레이션

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-009 |
| **우선순위** | High |
| **출처** | US-009 |

**설명**: 시스템은 1개의 코스피 종목에 대해 최근 60일간 매수/매도를 반복하는 시뮬레이션을 실행할 수 있어야 한다.

**상세 요구사항**:
1. 시뮬레이션은 사용자가 지정한 1개의 코스피 종목을 대상으로 실행한다.
2. 시뮬레이션 기간은 Yahoo Finance에서 조회 가능한 최근 60일(거래일 기준)이다.
3. 각 거래일에 선택된 전략(전략 1, 2, 3, A, B 중 하나)의 매수/매도 조건에 따라 거래를 수행한다.
4. 매 거래일 시뮬레이션은 오전 9시(09:00) ~ 오후 3시 30분(15:30) 범위의 5분 분봉 데이터를 사용한다.
5. 거래 결과에 따라 시드머니가 누적 반영된다(FR-008 참조).
6. 60일 모든 거래일에 대한 시뮬레이션 완료 후 종합 결과를 생성한다.

---

### 3.4 웹 인터페이스 관련

#### FR-010: 웹 브라우저 시뮬레이션 시작

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-010 |
| **우선순위** | High |
| **출처** | US-010 |

**설명**: 시스템은 웹 브라우저에서 시뮬레이션을 시작할 수 있는 인터페이스를 제공해야 한다.

**상세 요구사항**:
1. 웹 브라우저에서 접근 가능한 시뮬레이션 시작 화면을 제공한다.
2. 시뮬레이션 시작 시 다음 항목을 입력/선택할 수 있다:
   - 대상 종목 (코스피 종목 심볼, 예: `005930.KS`)
   - 투자 전략 선택 (전략 1, 전략 2, 전략 3, 전략 A, 전략 B 중 택 1)
3. 시뮬레이션 시작 버튼 클릭 시 시뮬레이션이 실행된다.
4. 시뮬레이션 시작 후 실행 상태(실행 중, 완료, 오류)를 화면에 표시한다.
5. 입력값 유효성 검증 실패 시 사용자에게 오류 메시지를 표시한다.

---

#### FR-011: 웹 브라우저 시뮬레이션 모니터링

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-011 |
| **우선순위** | High |
| **출처** | US-011 |

**설명**: 시스템은 웹 브라우저에서 시뮬레이션 진행 상황을 실시간으로 모니터링할 수 있는 기능을 제공해야 한다.

**상세 요구사항**:
1. 시뮬레이션 실행 중 웹 브라우저에서 진행 상황을 확인할 수 있는 모니터링 화면을 제공한다.
2. 모니터링 화면에 다음 정보를 표시한다:
   - 시뮬레이션 실행 상태 (실행 중 / 완료 / 오류)
   - 현재 처리 중인 거래일 (예: "2026-01-15 처리 중")
   - 전체 거래일 대비 진행률 (예: "15/42일 완료, 35.7%")
3. 시뮬레이션 진행 중 발생하는 이벤트를 실시간으로 표시한다:
   - 매수 이벤트: 매수일시, 매수가격, 매수수량
   - 매도 이벤트: 매도일시, 매도가격, 매도수량, 매도사유(이익보전/손절매)
4. 모니터링 데이터는 시뮬레이션 진행에 따라 자동으로 갱신된다.

---

#### FR-012: 웹 브라우저 시뮬레이션 결과 조회

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-012 |
| **우선순위** | High |
| **출처** | US-012 |

**설명**: 시스템은 웹 브라우저에서 시뮬레이션 결과를 조회할 수 있는 화면을 제공해야 한다.

**상세 요구사항**:
1. 시뮬레이션 완료 후 결과를 조회할 수 있는 화면을 웹 브라우저에서 제공한다.
2. 결과 화면에 다음 내용을 표시한다:
   - 수익률(%) 및 수익금(원) (FR-013 참조)
   - 세부 거래 내역 (FR-014 참조)
   - 종합 결과 보고서 (FR-015 참조)
3. 완료된 시뮬레이션의 결과를 이후 시점에 다시 조회할 수 있다.
4. 결과 데이터는 서버에 저장되어 브라우저 새로고침 후에도 유지된다.

---

### 3.5 결과 보고서 관련

#### FR-013: 수익률 및 수익금 표시

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-013 |
| **우선순위** | High |
| **출처** | US-013 |

**설명**: 시스템은 시뮬레이션 결과에 총 수익률과 총 수익금을 표시해야 한다.

**상세 요구사항**:
1. 시뮬레이션 결과에 총 수익률(%)을 표시한다.
   - 총 수익률 = ((최종 시드머니 잔액 - 초기 시드머니) / 초기 시드머니) × 100
2. 시뮬레이션 결과에 총 수익금(원)을 표시한다.
   - 총 수익금 = 최종 시드머니 잔액 - 초기 시드머니(10,000,000원)
3. 수익률과 수익금은 매매 비용(세금 0.2%, 수수료 0.011%)이 차감된 순수익 기준이다.
4. 수익금은 원(₩) 단위, 소수점 이하 절사하여 표시한다.
5. 수익률은 소수점 둘째 자리까지 표시한다 (예: 3.45%).

---

#### FR-014: 세부 거래 내역 표시

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-014 |
| **우선순위** | High |
| **출처** | US-014 |

**설명**: 시스템은 시뮬레이션 결과에 세부 거래 내역을 포함하여 표시해야 한다.

**상세 요구사항**:
1. 각 거래의 다음 항목을 표시한다:
   - 거래 번호 (순번)
   - 거래일
   - 매수일시 (YYYY-MM-DD HH:mm)
   - 매수가격 (원)
   - 매수수량 (주)
   - 매수금액 (원)
   - 매도일시 (YYYY-MM-DD HH:mm)
   - 매도가격 (원)
   - 매도금액 (원)
   - 매도사유 (이익보전 매도 / 손절매)
   - 매도 세금 (원)
   - 매도 수수료 (원)
   - 순수익금 (원)
   - 수익률 (%)
2. 거래 내역은 시간순(매수일시 기준 오름차순)으로 정렬된다.
3. 미거래일(매수 조건 미충족으로 거래 없음)은 별도로 표시하거나 생략한다.

---

#### FR-015: 종합 결과 보고서

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | FR-015 |
| **우선순위** | High |
| **출처** | US-015 |

**설명**: 시스템은 거래별 수익/손해, 총액, 시드머니 대비 최종 수익을 포함한 종합 결과 보고서를 제공해야 한다.

**상세 요구사항**:
1. 보고서에 각 거래별 수익 금액(원)과 손해 금액(원)을 표시한다.
   - 순수익금 > 0: 수익 거래
   - 순수익금 < 0: 손해 거래
   - 순수익금 = 0: 무변동 거래
2. 수익 거래 총액(수익 합계, 원)을 표시한다.
   - 수익 총액 = Σ(순수익금 > 0인 거래의 순수익금)
3. 손해 거래 총액(손해 합계, 원)을 표시한다.
   - 손해 총액 = Σ(순수익금 < 0인 거래의 |순수익금|)
4. 시드머니 10,000,000원 대비 최종 총 수익액(원)을 표시한다.
   - 총 수익액 = 최종 시드머니 잔액 - 10,000,000
5. 시드머니 10,000,000원 대비 최종 수익률(%)을 표시한다.
   - 총 수익률 = ((최종 시드머니 잔액 - 10,000,000) / 10,000,000) × 100
6. 추가 통계 정보를 표시한다:
   - 총 거래 횟수
   - 수익 거래 횟수
   - 손해 거래 횟수
   - 미거래일 수
   - 승률 = (수익 거래 횟수 / 총 거래 횟수) × 100

---

## 4. 비기능 요구사항 (Non-Functional Requirements)

### 4.1 성능

#### NFR-001: 시세 데이터 조회 응답 시간

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-001 |
| **우선순위** | Medium |
| **출처** | - |

**상세 요구사항**:
1. 단일 종목의 60일치 5분 분봉 데이터 조회 요청에 대한 응답 시간은 30초 이내여야 한다.
2. RSI 지표 산출 시간은 5분 분봉 데이터 수신 후 5초 이내여야 한다.
3. 시뮬레이션 실행 시간(60일 기준)은 60초 이내에 완료되어야 한다.

---

#### NFR-002: 웹 인터페이스 응답 시간

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-002 |
| **우선순위** | Medium |
| **출처** | - |

**상세 요구사항**:
1. 웹 페이지 초기 로딩 시간은 3초 이내여야 한다.
2. 시뮬레이션 시작 요청에 대한 응답(실행 시작 확인)은 2초 이내여야 한다.
3. 모니터링 화면의 데이터 갱신 주기는 5초 이내여야 한다.
4. 결과 조회 화면 로딩 시간은 3초 이내여야 한다.

---

### 4.2 사용성

#### NFR-003: 웹 브라우저 접근성

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-003 |
| **우선순위** | High |
| **출처** | US-016 |

**상세 요구사항**:
1. 시뮬레이션 시작, 모니터링, 결과 확인 기능이 모두 웹 브라우저에서 사용 가능해야 한다.
2. 별도의 클라이언트 프로그램, 플러그인, 확장 프로그램 설치가 필요 없어야 한다.
3. 다음 웹 브라우저 최신 버전에서 정상 동작해야 한다:
   - Google Chrome
   - Microsoft Edge
   - Mozilla Firefox
4. 화면 해상도 1280×720 이상에서 UI가 정상 표시되어야 한다.

---

#### NFR-004: 사용자 인터페이스 직관성

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-004 |
| **우선순위** | Medium |
| **출처** | - |

**상세 요구사항**:
1. 시뮬레이션 시작까지 필요한 사용자 조작 단계는 3단계 이내여야 한다 (종목 입력 → 전략 선택 → 시작).
2. 시뮬레이션 상태(실행 중, 완료, 오류)는 시각적으로 명확히 구분되어야 한다.
3. 오류 발생 시 사용자가 이해할 수 있는 한국어 오류 메시지를 표시한다.
4. 금액은 천 단위 구분 기호(,)를 사용하여 표시한다 (예: 10,000,000원).

---

### 4.3 신뢰성

#### NFR-005: 데이터 정확성

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-005 |
| **우선순위** | High |
| **출처** | US-017 |

**상세 요구사항**:
1. Yahoo Finance에서 가져온 시세 데이터가 누락 없이 시뮬레이션에 반영되어야 한다.
2. 매도 세금(0.2%) 및 매도 수수료(0.011%) 계산이 소수점 이하 원 단위까지 정확해야 한다.
3. 시드머니 누적 계산 시 소수점 이하 원 단위까지 정확히 반영해야 한다.
4. 전략별 매수/매도 조건의 퍼센트 기준(1.0%, 80%, 0.2%, RSI 30)이 정확히 적용되어야 한다.
5. 결과 보고서의 합계 수치(수익 총액, 손해 총액, 총 수익액)는 세부 거래 내역의 합산과 일치해야 한다.

---

#### NFR-006: 시뮬레이션 결과 재현성

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-006 |
| **우선순위** | Medium |
| **출처** | - |

**상세 요구사항**:
1. 동일한 종목, 동일한 전략, 동일한 기간의 시뮬레이션은 동일한 결과를 산출해야 한다.
2. 시뮬레이션 결과는 서버에 저장되어 브라우저 종료 후에도 재조회 가능해야 한다.

---

### 4.4 보안

#### NFR-007: 데이터 보안

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-007 |
| **우선순위** | Low |
| **출처** | - |

**상세 요구사항**:
1. 시뮬레이션 결과 데이터는 무단 접근으로부터 보호되어야 한다.
2. Yahoo Finance API 호출 시 API 키 등 인증 정보가 클라이언트에 노출되지 않아야 한다.

---

### 4.5 유지보수성

#### NFR-008: 전략 확장 용이성

| 항목 | 내용 |
|------|------|
| **요구사항 ID** | NFR-008 |
| **우선순위** | Medium |
| **출처** | US-006 |

**상세 요구사항**:
1. 신규 투자 전략 추가 시 기존 코드 수정 없이 새로운 전략 모듈을 추가할 수 있는 구조여야 한다.
2. 전략 인터페이스가 명확히 정의되어, 매수 조건/매도 조건/손절 조건을 구현하면 시뮬레이션 엔진에 통합 가능해야 한다.
3. 전략 추가를 위한 개발 가이드 문서가 제공되어야 한다.

---

## 5. 외부 인터페이스 요구사항

### 5.1 Yahoo Finance API 인터페이스

#### 5.1.1 데이터 유형

| 데이터 유형 | 설명 | 용도 |
|------------|------|------|
| 5분 분봉 (Intraday 5min) | 5분 간격 OHLCV 데이터 | 시뮬레이션 매매 판단 기초 데이터 |
| RSI 지표 | 상대강도지수 | 전략 3 매수 조건 판단 |

#### 5.1.2 호출 방식

| 항목 | 내용 |
|------|------|
| **프로토콜** | HTTPS |
| **방식** | REST API (GET 요청) |
| **인증** | API 키 기반 (서버 사이드에서 관리) |
| **심볼 형식** | 코스피 종목: `{종목코드}.KS` (예: 삼성전자 `005930.KS`) |
| **조회 간격 (Interval)** | `5m` (5분) |
| **조회 범위 (Range)** | `60d` (60일) |

#### 5.1.3 요청 파라미터

| 파라미터 | 설명 | 예시 값 |
|---------|------|---------|
| `symbol` | 종목 심볼 | `005930.KS` |
| `interval` | 분봉 간격 | `5m` |
| `range` | 조회 기간 | `60d` |

#### 5.1.4 응답 형식

응답 데이터는 JSON 형식이며, 다음 필드를 포함한다:

```json
{
  "chart": {
    "result": [
      {
        "meta": {
          "symbol": "005930.KS",
          "currency": "KRW",
          "exchangeTimezoneName": "Asia/Seoul"
        },
        "timestamp": [1707900300, 1707900600, ...],
        "indicators": {
          "quote": [
            {
              "open": [71000, 71100, ...],
              "high": [71200, 71150, ...],
              "low": [70900, 71000, ...],
              "close": [71100, 71050, ...],
              "volume": [150000, 120000, ...]
            }
          ]
        }
      }
    ]
  }
}
```

#### 5.1.5 오류 처리

| 오류 유형 | 처리 방법 |
|----------|----------|
| 네트워크 오류 (Timeout) | 최대 3회 재시도 후 사용자에게 오류 통지 |
| 유효하지 않은 심볼 | 사용자에게 "유효하지 않은 종목 심볼입니다" 메시지 표시 |
| API 호출 한도 초과 | 일정 시간 대기 후 재시도, 사용자에게 대기 안내 |
| 데이터 없음 | 사용자에게 "해당 기간 데이터가 없습니다" 메시지 표시 |

---

### 5.2 웹 브라우저 인터페이스

| 항목 | 내용 |
|------|------|
| **인터페이스 유형** | 웹 브라우저 (HTTP/HTTPS) |
| **지원 브라우저** | Chrome (최신), Edge (최신), Firefox (최신) |
| **화면 구성** | 시뮬레이션 시작 화면, 모니터링 화면, 결과 조회 화면 |
| **데이터 교환 형식** | JSON (서버-클라이언트 간 API 통신) |
| **실시간 통신** | WebSocket 또는 Server-Sent Events (모니터링 실시간 갱신) |

---

## 6. 데이터 요구사항

### 6.1 5분 분봉 데이터 구조

| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|-----------|------|------|
| `timestamp` | datetime | 봉 시작 시각 (KST) | 2026-01-15 09:05:00 |
| `symbol` | string | 종목 심볼 | 005930.KS |
| `open` | decimal | 시가 (원) | 71000 |
| `high` | decimal | 고가 (원) | 71200 |
| `low` | decimal | 저가 (원) | 70900 |
| `close` | decimal | 종가 (원) | 71100 |
| `volume` | integer | 거래량 (주) | 150000 |

### 6.2 RSI 지표 데이터 구조

| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|-----------|------|------|
| `timestamp` | datetime | RSI 산출 시각 (KST) | 2026-01-15 09:05:00 |
| `symbol` | string | 종목 심볼 | 005930.KS |
| `rsi_value` | decimal | RSI 값 (0~100) | 28.5 |
| `period` | integer | RSI 계산 기간 | 14 |

### 6.3 거래 내역 데이터 구조

| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|-----------|------|------|
| `trade_id` | integer | 거래 고유 번호 | 1 |
| `trade_date` | date | 거래일 | 2026-01-15 |
| `symbol` | string | 종목 심볼 | 005930.KS |
| `strategy` | string | 적용 전략명 | 전략1-매도TrailingStop |
| `buy_datetime` | datetime | 매수 일시 | 2026-01-15 09:05:00 |
| `buy_price` | decimal | 매수 단가 (원) | 71000 |
| `buy_quantity` | integer | 매수 수량 (주) | 140 |
| `buy_amount` | decimal | 매수 총액 (원) | 9940000 |
| `sell_datetime` | datetime | 매도 일시 | 2026-01-15 13:25:00 |
| `sell_price` | decimal | 매도 단가 (원) | 71800 |
| `sell_quantity` | integer | 매도 수량 (주) | 140 |
| `sell_amount` | decimal | 매도 총액 (원) | 10052000 |
| `sell_reason` | string | 매도 사유 | 이익보전매도 / 손절매 |
| `tax` | decimal | 매도 세금 (원) | 20104 |
| `fee` | decimal | 매도 수수료 (원) | 11057 |
| `net_profit` | decimal | 순수익 (원) | 80839 |
| `profit_rate` | decimal | 수익률 (%) | 0.81 |
| `seed_money_after` | decimal | 거래 후 시드머니 잔액 (원) | 10080839 |

### 6.4 시뮬레이션 결과 데이터 구조

| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|-----------|------|------|
| `simulation_id` | string | 시뮬레이션 고유 ID | SIM-20260115-001 |
| `symbol` | string | 대상 종목 심볼 | 005930.KS |
| `strategy` | string | 적용 전략명 | 전략1-매도TrailingStop |
| `start_date` | date | 시뮬레이션 시작일 | 2025-11-17 |
| `end_date` | date | 시뮬레이션 종료일 | 2026-01-15 |
| `initial_seed` | decimal | 초기 시드머니 (원) | 10000000 |
| `final_seed` | decimal | 최종 시드머니 (원) | 10345000 |
| `total_profit` | decimal | 총 수익금 (원) | 345000 |
| `total_profit_rate` | decimal | 총 수익률 (%) | 3.45 |
| `total_trades` | integer | 총 거래 횟수 | 42 |
| `profit_trades` | integer | 수익 거래 횟수 | 25 |
| `loss_trades` | integer | 손해 거래 횟수 | 15 |
| `no_trade_days` | integer | 미거래일 수 | 2 |
| `win_rate` | decimal | 승률 (%) | 62.50 |
| `total_profit_amount` | decimal | 수익 총액 (원) | 890000 |
| `total_loss_amount` | decimal | 손해 총액 (원) | 545000 |
| `status` | string | 시뮬레이션 상태 | 완료 |
| `created_at` | datetime | 시뮬레이션 생성 일시 | 2026-01-15 10:30:00 |
| `trades` | array | 거래 내역 리스트 | [거래내역 데이터 구조 참조] |

---

## 7. 비즈니스 규칙

### BR-001: 매도 세금

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-001 |
| **설명** | 매도 시 매도 금액에 대해 세금을 부과한다 |
| **세율** | 0.2% |
| **계산식** | 매도 세금 = 매도 금액 × 0.002 |
| **적용 시점** | 매도 거래 체결 시 |
| **소수점 처리** | 원 단위 이하 절사 |

### BR-002: 매도 수수료

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-002 |
| **설명** | 매도 시 매도 금액에 대해 수수료를 부과한다 |
| **수수료율** | 0.011% |
| **계산식** | 매도 수수료 = 매도 금액 × 0.00011 |
| **적용 시점** | 매도 거래 체결 시 |
| **소수점 처리** | 원 단위 이하 절사 |

### BR-003: 초기 투자금

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-003 |
| **설명** | 시뮬레이션 초기 투자금(시드머니)을 설정한다 |
| **금액** | 10,000,000원 (₩1천만원) |
| **적용 시점** | 시뮬레이션 시작 시 |

### BR-004: 시드머니 누적 관리

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-004 |
| **설명** | 시드머니는 거래 결과에 따라 누적 증감된다 |
| **수익 시** | 시드머니 잔액 = 이전 잔액 + 순수익(매도 비용 차감 후) |
| **손실 시** | 시드머니 잔액 = 이전 잔액 - 순손실(매도 비용 포함) |
| **매수 금액** | 현재 시드머니 잔액 전액 기준 최대 주식 수 매수 |
| **매수 불가** | 시드머니 잔액 < 1주 매수가격 시 해당일 매수 불가 |

### BR-005: 전략 1(기존 전략) — 매도 Trailing Stop 매수/매도 조건

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-005 |
| **매수 시점** | 매일 오전 9시 5분(09:05) 5분 분봉 종가 |
| **이익보전 추적 시작** | 매수가 대비 수익률 ≥ 1.0% 최초 도달 시 |
| **이익보전 매도** | 이익보전율 ≤ 80% 시 즉시 매도 |
| **이익보전율 계산** | (현재 수익률 / 당일 최고 수익률) × 100 |
| **손절매** | 15:00까지 수익률 1.0% 미도달 시 15:00 매도 |

### BR-006: 전략 2(기존 전략) — 매수+매도 Trailing Stop 매수/매도 조건

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-006 |
| **기준가** | 오전 9시 5분(09:05) 5분 분봉 종가 |
| **하락 추적 시작** | 기준가 대비 현재가 하락률 ≥ 1.0% |
| **전저점 추적** | 하락 추적 시작 후 5분 분봉 최저가 갱신 |
| **매수 조건** | 전저점 대비 현재가 상승률 ≥ 0.2% |
| **매수 불발** | 15:00까지 매수 조건 미충족 시 해당일 거래 없음 |
| **매도 조건** | 전략 1(BR-005) 매도 조건과 동일 |
| **손절매** | 전략 1(BR-005) 손절매 조건과 동일 |

### BR-007: 전략 3(기존 전략) — RSI 매수 Trailing Stop 매수/매도 조건

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-007 |
| **매수 조건 1** | 전략 2(BR-006)의 매수 조건과 동일 |
| **매수 조건 2 (추가)** | 매수 시도 시점 RSI ≤ 30 |
| **RSI 미충족 시** | 해당 매수 시점 건너뜀 (당일 매수 불가 가능) |
| **매도 조건** | 전략 1(BR-005) 매도 조건과 동일 |
| **손절매** | 전략 1(BR-005) 손절매 조건과 동일 |

### BR-008: 전략 A(신규 전략) — RSI<=30 기반 매수 + 매도 Trailing Stop 조건

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-008 |
| **매수 조건** | RSI ≤ 30 시점에서만 매수 |
| **매도 조건** | 전략 1(BR-005)의 이익보전 매도 조건과 동일 |
| **당일 손절매** | 적용하지 않음 |
| **추가 매수 제한** | 미청산 포지션 보유 시 추가 매수 금지 |
| **거래 순서 제약** | 매수→매도 교대만 허용, 연속 매수 금지 |

### BR-009: 전략 B(신규 전략) — 매수/매도 Trailing Stop 조합 조건

| 항목 | 내용 |
|------|------|
| **규칙 ID** | BR-009 |
| **기준가** | 오전 9시 5분(09:05) 5분 분봉 종가 |
| **매수 조건** | 기준가 대비 1.0% 하락 후 전저점 대비 0.2% 반등 시 매수 |
| **매도 조건** | 전략 1(BR-005)의 이익보전 매도 조건과 동일 |
| **당일 손절매** | 적용하지 않음 |
| **추가 매수 제한** | 미청산 포지션 보유 시 추가 매수 금지 |
| **거래 순서 제약** | 매수→매도 교대만 허용, 연속 매수 금지 |

---

## 8. 유저스토리-요구사항 추적 매트릭스

### 8.1 유저스토리 → 기능 요구사항 매핑

| 유저스토리 ID | 유저스토리명 | 기능 요구사항 ID | 기능 요구사항명 |
|-------------|------------|----------------|---------------|
| US-001 | 코스피 종목 5분 분봉 데이터 수집 | FR-001 | 코스피 종목 5분 분봉 데이터 조회 |
| US-002 | RSI 지표 데이터 수집 | FR-002 | RSI 지표 데이터 조회 |
| US-003 | 매도 Trailing Stop 전략 (전략1) | FR-003 | 매도 Trailing Stop 전략 |
| US-004 | 매수+매도 Trailing Stop 전략 (전략2) | FR-004 | 매수+매도 Trailing Stop 전략 |
| US-005 | RSI 매수 Trailing Stop 전략 (전략3) | FR-005 | RSI 매수 Trailing Stop 전략 |
| US-018 | RSI<=30 기반 매수 + 매도 Trailing Stop 전략 (전략A) | FR-016 | RSI<=30 기반 매수 + 매도 Trailing Stop 전략 |
| US-019 | 매수 Trailing Stop + 매도 Trailing Stop 조합 전략 (전략B) | FR-017 | 매수 Trailing Stop + 매도 Trailing Stop 조합 전략 |
| US-006 | 투자 전략 추가 확장 | FR-006 | 투자 전략 확장성 |
| US-007 | 매매 비용 반영 | FR-007 | 매매 비용 반영 |
| US-008 | 시드머니 기반 투자금 관리 | FR-008 | 시드머니 기반 투자금 관리 |
| US-009 | 단일 종목 반복 매매 시뮬레이션 | FR-009 | 단일 종목 반복 매매 시뮬레이션 |
| US-010 | 웹 브라우저 시뮬레이션 시작 | FR-010 | 웹 브라우저 시뮬레이션 시작 |
| US-011 | 웹 브라우저 시뮬레이션 모니터링 | FR-011 | 웹 브라우저 시뮬레이션 모니터링 |
| US-012 | 웹 브라우저 시뮬레이션 결과 확인 | FR-012 | 웹 브라우저 시뮬레이션 결과 조회 |
| US-013 | 수익률 및 수익금 표시 | FR-013 | 수익률 및 수익금 표시 |
| US-014 | 세부 거래 내역 표시 | FR-014 | 세부 거래 내역 표시 |
| US-015 | 종합 결과 보고서 | FR-015 | 종합 결과 보고서 |

### 8.2 유저스토리 → 비기능 요구사항 매핑

| 유저스토리 ID | 유저스토리명 | 비기능 요구사항 ID | 비기능 요구사항명 |
|-------------|------------|------------------|----------------|
| US-016 | 웹 브라우저 접근성 | NFR-003 | 웹 브라우저 접근성 |
| US-017 | 시뮬레이션 데이터 정확성 | NFR-005 | 데이터 정확성 |
| US-006 | 투자 전략 추가 확장 | NFR-008 | 전략 확장 용이성 |

### 8.3 전체 커버리지 요약

| 항목 | 수량 |
|------|------|
| 총 유저스토리 수 | 19 (US-001 ~ US-019) |
| 기능 요구사항 수 | 17 (FR-001 ~ FR-017) |
| 비기능 요구사항 수 | 8 (NFR-001 ~ NFR-008) |
| 총 요구사항 수 | 25 |
| 유저스토리 커버리지 | 19/19 (100%) |

### 8.4 역추적: 요구사항 → 유저스토리

| 요구사항 ID | 유저스토리 ID |
|------------|-------------|
| FR-001 | US-001 |
| FR-002 | US-002 |
| FR-003 | US-003 |
| FR-004 | US-004 |
| FR-005 | US-005 |
| FR-016 | US-018 |
| FR-017 | US-019 |
| FR-006 | US-006 |
| FR-007 | US-007 |
| FR-008 | US-008 |
| FR-009 | US-009 |
| FR-010 | US-010 |
| FR-011 | US-011 |
| FR-012 | US-012 |
| FR-013 | US-013 |
| FR-014 | US-014 |
| FR-015 | US-015 |
| NFR-001 | - (시스템 성능) |
| NFR-002 | - (시스템 성능) |
| NFR-003 | US-016 |
| NFR-004 | - (사용성) |
| NFR-005 | US-017 |
| NFR-006 | - (신뢰성) |
| NFR-007 | - (보안) |
| NFR-008 | US-006 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.1.0 | 2026-02-16 | 신규 전략A/B(US-018, US-019) 요구사항 추가, 기존/신규 전략 스코프 분리, 추적 매트릭스 갱신 | SRS 담당 에이전트 |
| 1.0.0 | 2026-02-15 | 최초 작성 | SRS 담당 에이전트 |
